syntax = "v1"

info(
    title: "CompanySecret management"
    desc: "CompanySecret "
    author: ""
    email: ""
    version: "v1.0"
)

import "../base.api"

type (
    CompanySecretInfo {
        BaseIDInfo

        AccessKey string `json:"accessKey,optional"`
        SecretKey string `json:"secretKey,optional"`
        Enable *uint32 `json:"enable,optional"`
        IsDel *uint32 `json:"isDel,optional"`
        Description string `json:"description,optional"`
    }


    CompanySecretListResp {
        BaseDataInfo

        Data CompanySecretListInfo `json:"data"`
    }

    CompanySecretListInfo {
        BaseListInfo

        Data  []CompanySecretInfo  `json:"data"`
    }

    CompanySecretListReq {
        PageInfo
        AccessKey string `json:"accessKey,optional"`
        SecretKey string `json:"secretKey,optional"`
        Enable *uint32 `json:"enable,optional"`
    }

    CompanySecretInfoResp {
        BaseDataInfo

        Data CompanySecretInfo `json:"data"`
    }
)


@server(
    jwt: Auth
    group: company_secret
    middleware: Authority
)

service Core {

    // Create CompanySecret information | 创建字典
    @handler createCompanySecret
    post /company_secret/create (CompanySecretInfo) returns (BaseMsgResp)

    // Update company_secret information | 更新字典
    @handler updateCompanySecret
    post /company_secret/update (CompanySecretInfo) returns (BaseMsgResp)

    // Delete company_secret information | 删除字典信息
    @handler deleteCompanySecret
    post /company_secret/delete (IDsReq) returns (BaseMsgResp)

    // getCompanySecretList
    @handler getCompanySecretList
    post /company_secret/list (CompanySecretListReq) returns (CompanySecretListResp)

    // Get CompanySecretby ID | 通过ID获取字典
    @handler getCompanySecretById
    post /company_secret (IDReq) returns (CompanySecretInfoResp)
}
